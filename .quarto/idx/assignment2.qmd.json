{"title":"Assignment2","markdown":{"yaml":{"title":"Assignment2"},"headingText":"Paul Murrell's R examples (selected)","containsRefs":false,"markdown":"\n\n1.  Run murrell01.R\n\n```{r}\n\n## Start plotting from basics \n# Note the order\nplot(pressure, pch=\"+\")  # Can you change pch? A: pch=\"+\"\ntext(150, 600, \n     \"Pressure (mm Hg)\\nversus\\nTemperature (Celsius)\")\n\n#  Examples of standard high-level plots \n#  In each case, extra output is also added using low-level \n#  plotting functions.\n# \n\n# Setting the parameter (3 rows by 2 cols)\npar(mfrow=c(3, 2))\n\n# Scatterplot\n# Note the incremental additions\n\nx <- c(0.5, 2, 4, 8, 12, 16)\ny1 <- c(1, 1.3, 1.9, 3.4, 3.9, 4.8)\ny2 <- c(4, .8, .5, .45, .4, .3)\n\n# Setting label orientation, margins c(bottom, left, top, right) & text size\npar(las=1, mar=c(4, 4, 2, 4), cex=.7) \nplot.new()\nplot.window(range(x), c(0, 6))\nlines(x, y1)\nlines(x, y2)\npoints(x, y1, pch=16, cex=0.5) # Try different cex value?  cex=0.5\npoints(x, y2, pch=21, bg=\"skyblue\", cex=2)  # Different background color\npar(col=\"gray50\", fg=\"gray50\", col.axis=\"gray50\")\naxis(1, at=seq(0, 16, 4)) # What is the first number standing for? X-axis\naxis(2, at=seq(0, 6, 2))\naxis(4, at=seq(0, 6, 2))\nbox(bty=\"u\")\nmtext(\"Travel Time (s)\", side=1, line=2, cex=0.8)\nmtext(\"Responses per Travel\", side=2, line=2, las=0, cex=0.8)\nmtext(\"Responses per Second\", side=4, line=2, las=0, cex=0.8)\ntext(4, 5, \"Bird 131\")\npar(mar=c(5.1, 4.1, 4.1, 2.1), col=\"black\", fg=\"black\", col.axis=\"black\")\n\n# Histogram\n# Random data\nY <- rnorm(50)\n# Make sure no Y exceed [-3.5, 3.5]\nY[Y < -3.5 | Y > 3.5] <- NA # Selection/set range\nx <- seq(-3.5, 3.5, .1)\ndn <- dnorm(x)\npar(mar=c(4.5, 4.1, 3.1, 0))\nhist(Y, breaks=seq(-3.5, 3.5), ylim=c(0, 0.5), \n     col=\"gray80\", freq=FALSE)\nlines(x, dnorm(x), lwd=2)\npar(mar=c(5.1, 4.1, 4.1, 2.1))\n\n# Barplot\npar(mar=c(2, 3.1, 2, 2.1)) \nmidpts <- barplot(VADeaths, \n                  col=gray(0.1 + seq(1, 9, 2)/11), \n                  names=rep(\"\", 4))\nmtext(sub(\" \", \"\\n\", colnames(VADeaths)),\n      at=midpts, side=1, line=0.5, cex=0.5)\ntext(rep(midpts, each=5), apply(VADeaths, 2, cumsum) - VADeaths/2,\n     VADeaths, \n     col=rep(c(\"white\", \"black\"), times=3:2), \n     cex=0.8)\npar(mar=c(5.1, 4.1, 4.1, 2.1))  \n\n# Boxplot\npar(mar=c(3, 4.1, 2, 0))\nboxplot(len ~ dose, data = ToothGrowth,\n        boxwex = 0.25, at = 1:3 - 0.2,\n        subset= supp == \"VC\", col=\"white\",\n        xlab=\"\",\n        ylab=\"tooth length\", ylim=c(0,35))\nmtext(\"Vitamin C dose (mg)\", side=1, line=2.5, cex=0.8)\nboxplot(len ~ dose, data = ToothGrowth, add = TRUE,\n        boxwex = 0.25, at = 1:3 + 0.2,\n        \n        subset= supp == \"OJ\")\nlegend(1.5, 9, c(\"Ascorbic acid\", \"Orange juice\"), \n       fill = c(\"white\", \"gray\"), \n       bty=\"n\")\npar(mar=c(5.1, 4.1, 4.1, 2.1))\n\n# Persp\nx <- seq(-10, 10, length= 30)\ny <- x\nf <- function(x,y) { r <- sqrt(x^2+y^2); 10 * sin(r)/r }\nz <- outer(x, y, f)\nz[is.na(z)] <- 1\n# 0.5 to include z axis label\npar(mar=c(0, 0.5, 0, 0), lwd=0.5)\npersp(x, y, z, theta = 30, phi = 30, \n      expand = 0.5)\npar(mar=c(5.1, 4.1, 4.1, 2.1), lwd=1)\n\n# Piechart\npar(mar=c(0, 2, 1, 2), xpd=FALSE, cex=0.5)\npie.sales <- c(0.12, 0.3, 0.26, 0.16, 0.04, 0.12)\nnames(pie.sales) <- c(\"Blueberry\", \"Cherry\",\n                      \"Apple\", \"Boston Cream\", \"Other\", \"Vanilla\")\npie(pie.sales, col = gray(seq(0.3,1.0,length=6))) \n\n# Exercise: Can you generate these charts individually?  Try these functions \n# using another dataset. Be sure to work on the layout and margins\n\n\n```\n\n```{r}\n# Creating a data frame for life expectancy data\nlife_expectancy_data <- data.frame(\n  Year = c(2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021),\n  Life_Expectancy_Years = c(80.7, 81.0, 81.0, 81.2, 81.4, 81.8, 81.8, 82.0, 82.5, 82.2, 82.4, 82.5, 82.6, 82.7, 82.2, 82.5),\n  HPI_data = c(44.75, 45.75, 47.47, 44.20, 47.71, 48.60, 48.33, 48.92, 48.73, 47.94, 49.08, 49.66, 50.14, 50.85, 52.72, 51.96)\n)\n\nHPI_data <- structure(list(ISO = c(\"VUT\", \"SWE\", \"SLV\", \"CRI\", \"NIC\", \"DNK\", \n\"ESP\", \"PAN\", \"FRA\", \"CHL\", \"PRT\", \"MDA\", \"HND\", \"NLD\", \"NOR\", \n\"GTM\", \"FIN\", \"ITA\", \"GBR\", \"ROU\", \"PHL\", \"ISR\", \"GRC\", \"SVN\", \n\"HRV\", \"THA\", \"TJK\", \"IRL\", \"DZA\", \"DOM\", \"PER\", \"CZE\", \"ALB\", \n\"BRA\", \"DEU\", \"VNM\", \"AUT\", \"MAR\", \"ECU\", \"JAM\", \"ARG\", \"NZL\", \n\"MEX\", \"UZB\", \"ARM\", \"HUN\", \"COL\", \"CHE\", \"JPN\", \"BTN\", \"CHN\", \n\"MKD\", \"KGZ\", \"TWN\", \"LTU\", \"SVK\", \"LKA\", \"ISL\", \"POL\", \"IDN\", \n\"MUS\", \"URY\", \"BHR\", \"BIH\", \"SEN\", \"AUS\", \"MLT\", \"BGD\", \"MYS\", \n\"LVA\", \"LBY\", \"BEL\", \"BLR\", \"TUN\", \"EST\", \"KOR\", \"BGR\", \"NPL\", \n\"CAN\", \"GEO\", \"CYP\", \"UKR\", \"KHM\", \"MNE\", \"COG\", \"SRB\", \"GAB\", \n\"AZE\", \"ETH\", \"PRY\", \"TUR\", \"PAK\", \"IRQ\", \"CMR\", \"MOZ\", \"GHA\", \n\"JOR\", \"VEN\", \"MRT\", \"CIV\", \"EGY\", \"USA\", \"BOL\", \"MMR\", \"GIN\", \n\"UGA\", \"KEN\", \"NER\", \"SGP\", \"LAO\", \"MDG\", \"KAZ\", \"ZAF\", \"SAU\", \n\"IRN\", \"BEN\", \"BFA\", \"TZA\", \"LBR\", \"RWA\", \"IND\", \"RUS\", \"HTI\", \n\"MWI\", \"YEM\", \"ARE\", \"TGO\", \"HKG\", \"TKM\", \"COD\", \"TTO\", \"LUX\", \n\"SLE\", \"KWT\", \"MLI\", \"NAM\", \"NGA\", \"MNG\", \"ZWE\", \"LBN\", \"ZMB\", \n\"QAT\", \"TCD\", \"AFG\", \"LSO\", \"BWA\", \"CAF\"), LifeExp = c(70.4, \n83, 70.7, 77, 73.8, 81.4, 83, 76.2, 82.5, 78.9, 81, 68.8, 70.1, \n81.7, 83.2, 69.2, 82, 82.9, 80.7, 74.2, 69.3, 82.3, 80.1, 80.7, \n77.6, 78.7, 71.6, 82, 76.4, 72.6, 72.4, 77.7, 76.5, 72.8, 80.6, \n73.6, 81.6, 74, 73.7, 70.5, 75.4, 82.5, 70.2, 70.9, 72, 74.5, \n72.8, 84, 84.8, 71.8, 78.2, 73.8, 70, 81, 73.7, 74.9, 76.4, 82.7, \n76.5, 67.6, 73.6, 75.4, 78.8, 75.3, 67.1, 84.5, 83.8, 72.4, 74.9, \n73.6, 71.9, 81.9, 72.4, 73.8, 77.1, 83.7, 71.8, 68.5, 82.7, 71.7, \n81.2, 71.6, 69.6, 76.3, 63.5, 74.2, 65.8, 69.4, 65, 70.3, 76, \n66.1, 70.4, 60.3, 59.3, 63.8, 74.3, 70.6, 64.4, 58.6, 70.2, 77.2, \n63.6, 65.7, 58.9, 62.7, 61.4, 61.6, 82.8, 68.1, 64.5, 69.4, 62.3, \n76.9, 73.9, 59.8, 59.3, 66.2, 60.7, 66.1, 67.2, 69.4, 63.2, 62.9, \n63.8, 78.7, 61.6, 85.5, 69.3, 59.2, 73, 82.6, 60.1, 78.7, 58.9, \n59.3, 52.7, 71, 59.3, 75, 61.2, 79.3, 52.5, 62, 53.1, 61.1, 53.9\n), Wellbeing = c(7.12, 7.44, 6.43, 6.41, 6.1, 7.7, 6.47, 6.55, \n6.66, 6.44, 6.18, 5.96, 6.11, 7.31, 7.36, 6.3, 7.79, 6.47, 6.87, \n6.55, 5.97, 7.58, 6.1, 6.76, 6.29, 5.64, 5.29, 6.83, 5.22, 6.03, \n5.69, 6.94, 5.26, 6.01, 6.75, 5.54, 7.08, 5.33, 5.43, 5.81, 5.91, \n7.14, 5.99, 6.19, 5.3, 6.23, 5.29, 7.33, 6.09, 5.2, 5.86, 5.53, \n5.56, 6.25, 6.86, 6.42, 4.1, 7.56, 5.98, 5.43, 5.95, 6.5, 6.5, \n5.75, 4.9, 7.11, 6.44, 4.12, 6.01, 6.35, 5.5, 6.88, 5.6, 4.5, \n6.55, 6.11, 5.42, 4.62, 6.94, 4.91, 6.27, 5.31, 4.56, 5.39, 4.92, \n6.25, 5.08, 5.2, 4.1, 5.58, 4.37, 4.49, 5.09, 4.96, 5.18, 4.38, \n3.91, 5.11, 4.5, 5.06, 4.03, 6.96, 5.57, 4.31, 4.94, 4.22, 4.46, \n4.37, 6.59, 4.93, 3.89, 6.26, 5.6, 6.45, 4.79, 4.49, 4.64, 3.68, \n4.05, 3.4, 3.56, 5.45, 3.81, 3.64, 3.64, 6.73, 4.04, 5.32, 5.45, \n3.8, 6.2, 7.06, 3.71, 6.17, 4.11, 4.49, 4.48, 5.72, 3.15, 2.18, \n3.08, 6.5, 4.4, 2.44, 3.7, 3.5, 3.1), tCO2e = c(2.62, 8.7, 2.03, \n4.37, 2.61, 10.04, 7.12, 5.24, 7.91, 6.2, 6.36, 1.29, 2.19, 10.11, \n11.02, 2.47, 12.19, 8.49, 8.94, 5.42, 2.08, 12.25, 6.89, 9.26, \n6.58, 5.05, 1.48, 10.21, 3.11, 4.13, 3.19, 9.23, 3.67, 4.59, \n10.44, 3.79, 12.15, 3.38, 3.82, 3.78, 6.39, 13.91, 4.69, 5.69, \n3.43, 7.46, 3.74, 15.7, 11.66, 3.29, 8.38, 5.49, 4.09, 11.43, \n10.27, 9.34, 2.18, 17.82, 8.89, 3.19, 7.65, 10.51, 12.14, 7.85, \n1.47, 17.7, 14.82, 1.22, 8.97, 9.58, 5.89, 15.84, 6.59, 3.33, \n12.59, 14.39, 6.34, 2.09, 17.87, 4.59, 14.96, 6.45, 2.8, 9.59, \n1.84, 12.28, 3.87, 6.1, 0.2, 8.27, 6.27, 2.23, 6.79, 1.3, 1.6, \n1.13, 4.11, 7.37, 2.08, 1.23, 3.14, 19.59, 5.88, 2.46, 1.7, 1.08, \n1.36, 1.11, 23.24, 6.98, 1.08, 14.22, 7.08, 20.16, 10.5, 1.55, \n1.87, 1.61, 0.48, 0.7, 2.1, 12.09, 1.33, 0.69, 1.38, 26.78, 2.16, \n23.5, 14.23, 0.57, 21.81, 34.91, 0.89, 28.84, 3.76, 6.22, 1.55, \n24.67, 0.82, 4.91, 2.23, 42.2, 3.88, 1.14, 3.04, 10.28, 1.83), \n    Continent = c(8L, 3L, 1L, 1L, 1L, 3L, 3L, 1L, 3L, 1L, 3L, \n    7L, 1L, 3L, 3L, 1L, 3L, 3L, 3L, 7L, 8L, 4L, 3L, 7L, 7L, 8L, \n    7L, 3L, 4L, 1L, 1L, 7L, 7L, 1L, 3L, 8L, 3L, 4L, 1L, 1L, 1L, \n    2L, 1L, 7L, 7L, 7L, 1L, 3L, 8L, 6L, 8L, 7L, 7L, 8L, 7L, 7L, \n    6L, 3L, 7L, 8L, 5L, 1L, 4L, 7L, 5L, 2L, 3L, 6L, 8L, 7L, 4L, \n    3L, 7L, 4L, 7L, 8L, 7L, 6L, 2L, 7L, 3L, 7L, 8L, 7L, 5L, 7L, \n    5L, 7L, 5L, 1L, 4L, 6L, 4L, 5L, 5L, 5L, 4L, 1L, 5L, 5L, 4L, \n    2L, 1L, 8L, 5L, 5L, 5L, 5L, 8L, 8L, 5L, 7L, 5L, 4L, 4L, 5L, \n    5L, 5L, 5L, 5L, 6L, 7L, 1L, 5L, 4L, 4L, 5L, 8L, 7L, 5L, 1L, \n    3L, 5L, 4L, 5L, 5L, 5L, 8L, 5L, 4L, 5L, 4L, 5L, 6L, 5L, 5L, \n    5L)), class = \"data.frame\", row.names = c(NA, -147L))\nHPI_data$Continent<-as.factor(HPI_data$Continent)\n\n# Display the data frame\npar(mar = c(5, 5, 4, 2))   # Set the canvas for a plot with the specified margin.\nplot.new()\nplot.window(range(life_expectancy_data$Year), c(min(life_expectancy_data$Life_Expectancy_Years), max(life_expectancy_data$Life_Expectancy_Years)))\nlines(life_expectancy_data$Year, life_expectancy_data$Life_Expectancy_Years,type=\"l\")\naxis(1, at=seq(min(life_expectancy_data$Year),max(life_expectancy_data$Year),1))\naxis(2, at=seq(min(life_expectancy_data$Life_Expectancy_Years),max(life_expectancy_data$Life_Expectancy_Years),1))\ntitle(\"Line Plot: Life Expectancy for each year\")\n\n# Plot 2\npar(mar = c(5, 5, 4, 2))   # Set the canvas for a plot with the specified margin.\nplot.new()\nplot.window(c(min(life_expectancy_data$HPI_data),max(life_expectancy_data$HPI_data)), c(min(life_expectancy_data$Life_Expectancy_Years), max(life_expectancy_data$Life_Expectancy_Years)))\npoints(life_expectancy_data$HPI_data, life_expectancy_data$Life_Expectancy_Years)\nabline(v=mean(life_expectancy_data$HPI_data),h=mean(life_expectancy_data$Life_Expectancy_Years),lty=3,col=\"grey\")\naxis(1, at=seq(min(life_expectancy_data$HPI_data),max(life_expectancy_data$HPI_data),1))\naxis(2, at=seq(min(life_expectancy_data$Life_Expectancy_Years),max(life_expectancy_data$Life_Expectancy_Years),1))\nmtext(\"HPI\", side=1, line=2, cex=0.8)\nmtext(\"Life Expectancy\", side=2, line=2, las=0, cex=0.8)\nbox(bty=\"u\")\ntext(mean(life_expectancy_data$HPI_data)*1.025, mean(life_expectancy_data$Life_Expectancy_Years), \"Means of two vars.\")\npoints(mean(life_expectancy_data$HPI_data), mean(life_expectancy_data$Life_Expectancy_Years), pch=19,cex=1)\ntitle(\"Point Plot: Life Expectancy vs HPI\")\n\n# Plot 3 \nhist(HPI_data$tCO2e)\n\n# Plot 4\nboxplot(HPI_data$Wellbeing~HPI_data$Continent)\n\n# Plot 5\n# Persp\n# 0.5 to include z axis label\n\n# Scale the sorted LifeExp and Wellbeing values\nsorted_data <- HPI_data[order(HPI_data$Wellbeing), ]\nx <- order(scale(sorted_data$Wellbeing)[1:30])\ny <- x\n\n# Create z values (you can use any variable here)\nf <- function(x,y) { r <- sqrt(x^2+y^2); 10 * sin(r)/r }\nz <- outer(x, y, f)\n\npar(mar=c(0, 0.5, 0, 0), lwd=0.5)\npersp(x, y, z, theta = 30, phi = 30, \n      expand = 0.5)\npar(mar=c(5.1, 4.1, 4.1, 2.1), lwd=1)\n\n# Plot 6\n\n# Piechart\n# Aggregate CO2 emissions by continent\ncont_co2 <- aggregate(x = HPI_data$tCO2e, by = list(HPI_data$Continent), FUN = sum)[, 2]\n# Names for each continent\ncontinent_names <- c(\"Latin America\", \"N. America & Oceania\", \"Western Europe\", \"Middle East\", \"Africa\", \"South Asia\", \"Eastern Europe & Central Asia\", \"East Asia\")\n\n# Calculate percentage of each value\npercentages <- round(cont_co2 / sum(cont_co2) * 100, 2)\n\n# Combine names with percentages\nlabels <- paste(continent_names, \"-\", percentages, \"%\", sep=\"\")\n\n# Sort cont_co2 and labels in decreasing order\norder_decreasing <- order(cont_co2, decreasing = TRUE)\ncont_co2_sorted <- cont_co2[order_decreasing]\nlabels_sorted <- labels[order_decreasing]\ncontinent_names_sorted <-continent_names[order_decreasing]\nnames(cont_co2_sorted)<-continent_names_sorted\n# Create the pie chart\npar(mar = c(0, 2, 1, 2), xpd = FALSE, cex = 0.7)\npie(cont_co2_sorted, col = gray(seq(0.3, 1.0, length = 8))) \n\n# Add the legend\nlegend(\"topright\", legend = labels_sorted, fill = gray(seq(0.3, 1.0, length = 8)), cex = 0.8)\n\n```\n","srcMarkdownNoYaml":"\n\n1.  Run murrell01.R\n\n```{r}\n### Paul Murrell's R examples (selected)\n\n## Start plotting from basics \n# Note the order\nplot(pressure, pch=\"+\")  # Can you change pch? A: pch=\"+\"\ntext(150, 600, \n     \"Pressure (mm Hg)\\nversus\\nTemperature (Celsius)\")\n\n#  Examples of standard high-level plots \n#  In each case, extra output is also added using low-level \n#  plotting functions.\n# \n\n# Setting the parameter (3 rows by 2 cols)\npar(mfrow=c(3, 2))\n\n# Scatterplot\n# Note the incremental additions\n\nx <- c(0.5, 2, 4, 8, 12, 16)\ny1 <- c(1, 1.3, 1.9, 3.4, 3.9, 4.8)\ny2 <- c(4, .8, .5, .45, .4, .3)\n\n# Setting label orientation, margins c(bottom, left, top, right) & text size\npar(las=1, mar=c(4, 4, 2, 4), cex=.7) \nplot.new()\nplot.window(range(x), c(0, 6))\nlines(x, y1)\nlines(x, y2)\npoints(x, y1, pch=16, cex=0.5) # Try different cex value?  cex=0.5\npoints(x, y2, pch=21, bg=\"skyblue\", cex=2)  # Different background color\npar(col=\"gray50\", fg=\"gray50\", col.axis=\"gray50\")\naxis(1, at=seq(0, 16, 4)) # What is the first number standing for? X-axis\naxis(2, at=seq(0, 6, 2))\naxis(4, at=seq(0, 6, 2))\nbox(bty=\"u\")\nmtext(\"Travel Time (s)\", side=1, line=2, cex=0.8)\nmtext(\"Responses per Travel\", side=2, line=2, las=0, cex=0.8)\nmtext(\"Responses per Second\", side=4, line=2, las=0, cex=0.8)\ntext(4, 5, \"Bird 131\")\npar(mar=c(5.1, 4.1, 4.1, 2.1), col=\"black\", fg=\"black\", col.axis=\"black\")\n\n# Histogram\n# Random data\nY <- rnorm(50)\n# Make sure no Y exceed [-3.5, 3.5]\nY[Y < -3.5 | Y > 3.5] <- NA # Selection/set range\nx <- seq(-3.5, 3.5, .1)\ndn <- dnorm(x)\npar(mar=c(4.5, 4.1, 3.1, 0))\nhist(Y, breaks=seq(-3.5, 3.5), ylim=c(0, 0.5), \n     col=\"gray80\", freq=FALSE)\nlines(x, dnorm(x), lwd=2)\npar(mar=c(5.1, 4.1, 4.1, 2.1))\n\n# Barplot\npar(mar=c(2, 3.1, 2, 2.1)) \nmidpts <- barplot(VADeaths, \n                  col=gray(0.1 + seq(1, 9, 2)/11), \n                  names=rep(\"\", 4))\nmtext(sub(\" \", \"\\n\", colnames(VADeaths)),\n      at=midpts, side=1, line=0.5, cex=0.5)\ntext(rep(midpts, each=5), apply(VADeaths, 2, cumsum) - VADeaths/2,\n     VADeaths, \n     col=rep(c(\"white\", \"black\"), times=3:2), \n     cex=0.8)\npar(mar=c(5.1, 4.1, 4.1, 2.1))  \n\n# Boxplot\npar(mar=c(3, 4.1, 2, 0))\nboxplot(len ~ dose, data = ToothGrowth,\n        boxwex = 0.25, at = 1:3 - 0.2,\n        subset= supp == \"VC\", col=\"white\",\n        xlab=\"\",\n        ylab=\"tooth length\", ylim=c(0,35))\nmtext(\"Vitamin C dose (mg)\", side=1, line=2.5, cex=0.8)\nboxplot(len ~ dose, data = ToothGrowth, add = TRUE,\n        boxwex = 0.25, at = 1:3 + 0.2,\n        \n        subset= supp == \"OJ\")\nlegend(1.5, 9, c(\"Ascorbic acid\", \"Orange juice\"), \n       fill = c(\"white\", \"gray\"), \n       bty=\"n\")\npar(mar=c(5.1, 4.1, 4.1, 2.1))\n\n# Persp\nx <- seq(-10, 10, length= 30)\ny <- x\nf <- function(x,y) { r <- sqrt(x^2+y^2); 10 * sin(r)/r }\nz <- outer(x, y, f)\nz[is.na(z)] <- 1\n# 0.5 to include z axis label\npar(mar=c(0, 0.5, 0, 0), lwd=0.5)\npersp(x, y, z, theta = 30, phi = 30, \n      expand = 0.5)\npar(mar=c(5.1, 4.1, 4.1, 2.1), lwd=1)\n\n# Piechart\npar(mar=c(0, 2, 1, 2), xpd=FALSE, cex=0.5)\npie.sales <- c(0.12, 0.3, 0.26, 0.16, 0.04, 0.12)\nnames(pie.sales) <- c(\"Blueberry\", \"Cherry\",\n                      \"Apple\", \"Boston Cream\", \"Other\", \"Vanilla\")\npie(pie.sales, col = gray(seq(0.3,1.0,length=6))) \n\n# Exercise: Can you generate these charts individually?  Try these functions \n# using another dataset. Be sure to work on the layout and margins\n\n\n```\n\n```{r}\n# Creating a data frame for life expectancy data\nlife_expectancy_data <- data.frame(\n  Year = c(2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021),\n  Life_Expectancy_Years = c(80.7, 81.0, 81.0, 81.2, 81.4, 81.8, 81.8, 82.0, 82.5, 82.2, 82.4, 82.5, 82.6, 82.7, 82.2, 82.5),\n  HPI_data = c(44.75, 45.75, 47.47, 44.20, 47.71, 48.60, 48.33, 48.92, 48.73, 47.94, 49.08, 49.66, 50.14, 50.85, 52.72, 51.96)\n)\n\nHPI_data <- structure(list(ISO = c(\"VUT\", \"SWE\", \"SLV\", \"CRI\", \"NIC\", \"DNK\", \n\"ESP\", \"PAN\", \"FRA\", \"CHL\", \"PRT\", \"MDA\", \"HND\", \"NLD\", \"NOR\", \n\"GTM\", \"FIN\", \"ITA\", \"GBR\", \"ROU\", \"PHL\", \"ISR\", \"GRC\", \"SVN\", \n\"HRV\", \"THA\", \"TJK\", \"IRL\", \"DZA\", \"DOM\", \"PER\", \"CZE\", \"ALB\", \n\"BRA\", \"DEU\", \"VNM\", \"AUT\", \"MAR\", \"ECU\", \"JAM\", \"ARG\", \"NZL\", \n\"MEX\", \"UZB\", \"ARM\", \"HUN\", \"COL\", \"CHE\", \"JPN\", \"BTN\", \"CHN\", \n\"MKD\", \"KGZ\", \"TWN\", \"LTU\", \"SVK\", \"LKA\", \"ISL\", \"POL\", \"IDN\", \n\"MUS\", \"URY\", \"BHR\", \"BIH\", \"SEN\", \"AUS\", \"MLT\", \"BGD\", \"MYS\", \n\"LVA\", \"LBY\", \"BEL\", \"BLR\", \"TUN\", \"EST\", \"KOR\", \"BGR\", \"NPL\", \n\"CAN\", \"GEO\", \"CYP\", \"UKR\", \"KHM\", \"MNE\", \"COG\", \"SRB\", \"GAB\", \n\"AZE\", \"ETH\", \"PRY\", \"TUR\", \"PAK\", \"IRQ\", \"CMR\", \"MOZ\", \"GHA\", \n\"JOR\", \"VEN\", \"MRT\", \"CIV\", \"EGY\", \"USA\", \"BOL\", \"MMR\", \"GIN\", \n\"UGA\", \"KEN\", \"NER\", \"SGP\", \"LAO\", \"MDG\", \"KAZ\", \"ZAF\", \"SAU\", \n\"IRN\", \"BEN\", \"BFA\", \"TZA\", \"LBR\", \"RWA\", \"IND\", \"RUS\", \"HTI\", \n\"MWI\", \"YEM\", \"ARE\", \"TGO\", \"HKG\", \"TKM\", \"COD\", \"TTO\", \"LUX\", \n\"SLE\", \"KWT\", \"MLI\", \"NAM\", \"NGA\", \"MNG\", \"ZWE\", \"LBN\", \"ZMB\", \n\"QAT\", \"TCD\", \"AFG\", \"LSO\", \"BWA\", \"CAF\"), LifeExp = c(70.4, \n83, 70.7, 77, 73.8, 81.4, 83, 76.2, 82.5, 78.9, 81, 68.8, 70.1, \n81.7, 83.2, 69.2, 82, 82.9, 80.7, 74.2, 69.3, 82.3, 80.1, 80.7, \n77.6, 78.7, 71.6, 82, 76.4, 72.6, 72.4, 77.7, 76.5, 72.8, 80.6, \n73.6, 81.6, 74, 73.7, 70.5, 75.4, 82.5, 70.2, 70.9, 72, 74.5, \n72.8, 84, 84.8, 71.8, 78.2, 73.8, 70, 81, 73.7, 74.9, 76.4, 82.7, \n76.5, 67.6, 73.6, 75.4, 78.8, 75.3, 67.1, 84.5, 83.8, 72.4, 74.9, \n73.6, 71.9, 81.9, 72.4, 73.8, 77.1, 83.7, 71.8, 68.5, 82.7, 71.7, \n81.2, 71.6, 69.6, 76.3, 63.5, 74.2, 65.8, 69.4, 65, 70.3, 76, \n66.1, 70.4, 60.3, 59.3, 63.8, 74.3, 70.6, 64.4, 58.6, 70.2, 77.2, \n63.6, 65.7, 58.9, 62.7, 61.4, 61.6, 82.8, 68.1, 64.5, 69.4, 62.3, \n76.9, 73.9, 59.8, 59.3, 66.2, 60.7, 66.1, 67.2, 69.4, 63.2, 62.9, \n63.8, 78.7, 61.6, 85.5, 69.3, 59.2, 73, 82.6, 60.1, 78.7, 58.9, \n59.3, 52.7, 71, 59.3, 75, 61.2, 79.3, 52.5, 62, 53.1, 61.1, 53.9\n), Wellbeing = c(7.12, 7.44, 6.43, 6.41, 6.1, 7.7, 6.47, 6.55, \n6.66, 6.44, 6.18, 5.96, 6.11, 7.31, 7.36, 6.3, 7.79, 6.47, 6.87, \n6.55, 5.97, 7.58, 6.1, 6.76, 6.29, 5.64, 5.29, 6.83, 5.22, 6.03, \n5.69, 6.94, 5.26, 6.01, 6.75, 5.54, 7.08, 5.33, 5.43, 5.81, 5.91, \n7.14, 5.99, 6.19, 5.3, 6.23, 5.29, 7.33, 6.09, 5.2, 5.86, 5.53, \n5.56, 6.25, 6.86, 6.42, 4.1, 7.56, 5.98, 5.43, 5.95, 6.5, 6.5, \n5.75, 4.9, 7.11, 6.44, 4.12, 6.01, 6.35, 5.5, 6.88, 5.6, 4.5, \n6.55, 6.11, 5.42, 4.62, 6.94, 4.91, 6.27, 5.31, 4.56, 5.39, 4.92, \n6.25, 5.08, 5.2, 4.1, 5.58, 4.37, 4.49, 5.09, 4.96, 5.18, 4.38, \n3.91, 5.11, 4.5, 5.06, 4.03, 6.96, 5.57, 4.31, 4.94, 4.22, 4.46, \n4.37, 6.59, 4.93, 3.89, 6.26, 5.6, 6.45, 4.79, 4.49, 4.64, 3.68, \n4.05, 3.4, 3.56, 5.45, 3.81, 3.64, 3.64, 6.73, 4.04, 5.32, 5.45, \n3.8, 6.2, 7.06, 3.71, 6.17, 4.11, 4.49, 4.48, 5.72, 3.15, 2.18, \n3.08, 6.5, 4.4, 2.44, 3.7, 3.5, 3.1), tCO2e = c(2.62, 8.7, 2.03, \n4.37, 2.61, 10.04, 7.12, 5.24, 7.91, 6.2, 6.36, 1.29, 2.19, 10.11, \n11.02, 2.47, 12.19, 8.49, 8.94, 5.42, 2.08, 12.25, 6.89, 9.26, \n6.58, 5.05, 1.48, 10.21, 3.11, 4.13, 3.19, 9.23, 3.67, 4.59, \n10.44, 3.79, 12.15, 3.38, 3.82, 3.78, 6.39, 13.91, 4.69, 5.69, \n3.43, 7.46, 3.74, 15.7, 11.66, 3.29, 8.38, 5.49, 4.09, 11.43, \n10.27, 9.34, 2.18, 17.82, 8.89, 3.19, 7.65, 10.51, 12.14, 7.85, \n1.47, 17.7, 14.82, 1.22, 8.97, 9.58, 5.89, 15.84, 6.59, 3.33, \n12.59, 14.39, 6.34, 2.09, 17.87, 4.59, 14.96, 6.45, 2.8, 9.59, \n1.84, 12.28, 3.87, 6.1, 0.2, 8.27, 6.27, 2.23, 6.79, 1.3, 1.6, \n1.13, 4.11, 7.37, 2.08, 1.23, 3.14, 19.59, 5.88, 2.46, 1.7, 1.08, \n1.36, 1.11, 23.24, 6.98, 1.08, 14.22, 7.08, 20.16, 10.5, 1.55, \n1.87, 1.61, 0.48, 0.7, 2.1, 12.09, 1.33, 0.69, 1.38, 26.78, 2.16, \n23.5, 14.23, 0.57, 21.81, 34.91, 0.89, 28.84, 3.76, 6.22, 1.55, \n24.67, 0.82, 4.91, 2.23, 42.2, 3.88, 1.14, 3.04, 10.28, 1.83), \n    Continent = c(8L, 3L, 1L, 1L, 1L, 3L, 3L, 1L, 3L, 1L, 3L, \n    7L, 1L, 3L, 3L, 1L, 3L, 3L, 3L, 7L, 8L, 4L, 3L, 7L, 7L, 8L, \n    7L, 3L, 4L, 1L, 1L, 7L, 7L, 1L, 3L, 8L, 3L, 4L, 1L, 1L, 1L, \n    2L, 1L, 7L, 7L, 7L, 1L, 3L, 8L, 6L, 8L, 7L, 7L, 8L, 7L, 7L, \n    6L, 3L, 7L, 8L, 5L, 1L, 4L, 7L, 5L, 2L, 3L, 6L, 8L, 7L, 4L, \n    3L, 7L, 4L, 7L, 8L, 7L, 6L, 2L, 7L, 3L, 7L, 8L, 7L, 5L, 7L, \n    5L, 7L, 5L, 1L, 4L, 6L, 4L, 5L, 5L, 5L, 4L, 1L, 5L, 5L, 4L, \n    2L, 1L, 8L, 5L, 5L, 5L, 5L, 8L, 8L, 5L, 7L, 5L, 4L, 4L, 5L, \n    5L, 5L, 5L, 5L, 6L, 7L, 1L, 5L, 4L, 4L, 5L, 8L, 7L, 5L, 1L, \n    3L, 5L, 4L, 5L, 5L, 5L, 8L, 5L, 4L, 5L, 4L, 5L, 6L, 5L, 5L, \n    5L)), class = \"data.frame\", row.names = c(NA, -147L))\nHPI_data$Continent<-as.factor(HPI_data$Continent)\n\n# Display the data frame\npar(mar = c(5, 5, 4, 2))   # Set the canvas for a plot with the specified margin.\nplot.new()\nplot.window(range(life_expectancy_data$Year), c(min(life_expectancy_data$Life_Expectancy_Years), max(life_expectancy_data$Life_Expectancy_Years)))\nlines(life_expectancy_data$Year, life_expectancy_data$Life_Expectancy_Years,type=\"l\")\naxis(1, at=seq(min(life_expectancy_data$Year),max(life_expectancy_data$Year),1))\naxis(2, at=seq(min(life_expectancy_data$Life_Expectancy_Years),max(life_expectancy_data$Life_Expectancy_Years),1))\ntitle(\"Line Plot: Life Expectancy for each year\")\n\n# Plot 2\npar(mar = c(5, 5, 4, 2))   # Set the canvas for a plot with the specified margin.\nplot.new()\nplot.window(c(min(life_expectancy_data$HPI_data),max(life_expectancy_data$HPI_data)), c(min(life_expectancy_data$Life_Expectancy_Years), max(life_expectancy_data$Life_Expectancy_Years)))\npoints(life_expectancy_data$HPI_data, life_expectancy_data$Life_Expectancy_Years)\nabline(v=mean(life_expectancy_data$HPI_data),h=mean(life_expectancy_data$Life_Expectancy_Years),lty=3,col=\"grey\")\naxis(1, at=seq(min(life_expectancy_data$HPI_data),max(life_expectancy_data$HPI_data),1))\naxis(2, at=seq(min(life_expectancy_data$Life_Expectancy_Years),max(life_expectancy_data$Life_Expectancy_Years),1))\nmtext(\"HPI\", side=1, line=2, cex=0.8)\nmtext(\"Life Expectancy\", side=2, line=2, las=0, cex=0.8)\nbox(bty=\"u\")\ntext(mean(life_expectancy_data$HPI_data)*1.025, mean(life_expectancy_data$Life_Expectancy_Years), \"Means of two vars.\")\npoints(mean(life_expectancy_data$HPI_data), mean(life_expectancy_data$Life_Expectancy_Years), pch=19,cex=1)\ntitle(\"Point Plot: Life Expectancy vs HPI\")\n\n# Plot 3 \nhist(HPI_data$tCO2e)\n\n# Plot 4\nboxplot(HPI_data$Wellbeing~HPI_data$Continent)\n\n# Plot 5\n# Persp\n# 0.5 to include z axis label\n\n# Scale the sorted LifeExp and Wellbeing values\nsorted_data <- HPI_data[order(HPI_data$Wellbeing), ]\nx <- order(scale(sorted_data$Wellbeing)[1:30])\ny <- x\n\n# Create z values (you can use any variable here)\nf <- function(x,y) { r <- sqrt(x^2+y^2); 10 * sin(r)/r }\nz <- outer(x, y, f)\n\npar(mar=c(0, 0.5, 0, 0), lwd=0.5)\npersp(x, y, z, theta = 30, phi = 30, \n      expand = 0.5)\npar(mar=c(5.1, 4.1, 4.1, 2.1), lwd=1)\n\n# Plot 6\n\n# Piechart\n# Aggregate CO2 emissions by continent\ncont_co2 <- aggregate(x = HPI_data$tCO2e, by = list(HPI_data$Continent), FUN = sum)[, 2]\n# Names for each continent\ncontinent_names <- c(\"Latin America\", \"N. America & Oceania\", \"Western Europe\", \"Middle East\", \"Africa\", \"South Asia\", \"Eastern Europe & Central Asia\", \"East Asia\")\n\n# Calculate percentage of each value\npercentages <- round(cont_co2 / sum(cont_co2) * 100, 2)\n\n# Combine names with percentages\nlabels <- paste(continent_names, \"-\", percentages, \"%\", sep=\"\")\n\n# Sort cont_co2 and labels in decreasing order\norder_decreasing <- order(cont_co2, decreasing = TRUE)\ncont_co2_sorted <- cont_co2[order_decreasing]\nlabels_sorted <- labels[order_decreasing]\ncontinent_names_sorted <-continent_names[order_decreasing]\nnames(cont_co2_sorted)<-continent_names_sorted\n# Create the pie chart\npar(mar = c(0, 2, 1, 2), xpd = FALSE, cex = 0.7)\npie(cont_co2_sorted, col = gray(seq(0.3, 1.0, length = 8))) \n\n# Add the legend\nlegend(\"topright\", legend = labels_sorted, fill = gray(seq(0.3, 1.0, length = 8)), cex = 0.8)\n\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css","cumstom.css"],"toc":true,"output-file":"assignment2.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.353","editor":"visual","theme":"cosmo","title":"Assignment2"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}